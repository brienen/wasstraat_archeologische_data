"""Foto vervangen door Bestand

Revision ID: d4fe003efd3e
Revises: 3cde970b04b1
Create Date: 2023-01-12 20:44:08.636083

"""
from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import postgresql

# revision identifiers, used by Alembic.
revision = 'd4fe003efd3e'
down_revision = '3cde970b04b1'
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    with op.batch_alter_table('Def_Foto', schema=None) as batch_op:
        batch_op.drop_index('ix_Def_Foto_artefactID')
        batch_op.drop_index('ix_Def_Foto_fileName')
        batch_op.drop_index('ix_Def_Foto_fotosoort')
        batch_op.drop_index('ix_Def_Foto_projectID')
        batch_op.drop_index('ix_Foto_fototype_fileName')

    op.drop_table('Def_Foto')
    with op.batch_alter_table('Def_Artefact', schema=None) as batch_op:
        batch_op.alter_column('max_diameter',
               existing_type=sa.VARCHAR(length=1024),
               comment='',
               existing_nullable=True)
        batch_op.alter_column('percentage',
               existing_type=sa.VARCHAR(length=1024),
               comment='',
               existing_nullable=True)
        batch_op.alter_column('gedraaid',
               existing_type=sa.VARCHAR(length=1024),
               comment='',
               existing_nullable=True)
        batch_op.alter_column('handgevormd',
               existing_type=sa.VARCHAR(length=1024),
               comment='',
               existing_nullable=True)
        batch_op.alter_column('doos_delft',
               existing_type=sa.VARCHAR(length=1024),
               comment='',
               existing_nullable=True)
        batch_op.alter_column('doos_lumc',
               existing_type=sa.VARCHAR(length=1024),
               comment='',
               existing_nullable=True)
        batch_op.alter_column('kist_waargenomen',
               existing_type=sa.VARCHAR(length=1024),
               comment='',
               existing_nullable=True)
        batch_op.alter_column('linkerarm',
               existing_type=sa.VARCHAR(length=1024),
               comment='',
               existing_nullable=True)
        batch_op.alter_column('linkerbeen',
               existing_type=sa.VARCHAR(length=1024),
               comment='',
               existing_nullable=True)
        batch_op.alter_column('primair_graf',
               existing_type=sa.VARCHAR(length=1024),
               comment='',
               existing_nullable=True)
        batch_op.alter_column('rechterarm',
               existing_type=sa.VARCHAR(length=1024),
               comment='',
               existing_nullable=True)
        batch_op.alter_column('rechterbeen',
               existing_type=sa.VARCHAR(length=1024),
               comment='',
               existing_nullable=True)
        batch_op.alter_column('schedel',
               existing_type=sa.VARCHAR(length=1024),
               comment='',
               existing_nullable=True)
        batch_op.alter_column('secundair_graf',
               existing_type=sa.VARCHAR(length=1024),
               comment='',
               existing_nullable=True)
        batch_op.alter_column('skeletelementen',
               existing_type=sa.VARCHAR(length=1024),
               comment='',
               existing_nullable=True)
        batch_op.alter_column('wervelkolom',
               existing_type=sa.VARCHAR(length=1024),
               comment='',
               existing_nullable=True)

    with op.batch_alter_table('Def_Bruikleen', schema=None) as batch_op:
        batch_op.alter_column('projectID',
               existing_type=sa.INTEGER(),
               nullable=False)

    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    with op.batch_alter_table('Def_Bruikleen', schema=None) as batch_op:
        batch_op.alter_column('projectID',
               existing_type=sa.INTEGER(),
               nullable=True)

    with op.batch_alter_table('Def_Artefact', schema=None) as batch_op:
        batch_op.alter_column('wervelkolom',
               existing_type=sa.VARCHAR(length=1024),
               comment=None,
               existing_comment='',
               existing_nullable=True)
        batch_op.alter_column('skeletelementen',
               existing_type=sa.VARCHAR(length=1024),
               comment=None,
               existing_comment='',
               existing_nullable=True)
        batch_op.alter_column('secundair_graf',
               existing_type=sa.VARCHAR(length=1024),
               comment=None,
               existing_comment='',
               existing_nullable=True)
        batch_op.alter_column('schedel',
               existing_type=sa.VARCHAR(length=1024),
               comment=None,
               existing_comment='',
               existing_nullable=True)
        batch_op.alter_column('rechterbeen',
               existing_type=sa.VARCHAR(length=1024),
               comment=None,
               existing_comment='',
               existing_nullable=True)
        batch_op.alter_column('rechterarm',
               existing_type=sa.VARCHAR(length=1024),
               comment=None,
               existing_comment='',
               existing_nullable=True)
        batch_op.alter_column('primair_graf',
               existing_type=sa.VARCHAR(length=1024),
               comment=None,
               existing_comment='',
               existing_nullable=True)
        batch_op.alter_column('linkerbeen',
               existing_type=sa.VARCHAR(length=1024),
               comment=None,
               existing_comment='',
               existing_nullable=True)
        batch_op.alter_column('linkerarm',
               existing_type=sa.VARCHAR(length=1024),
               comment=None,
               existing_comment='',
               existing_nullable=True)
        batch_op.alter_column('kist_waargenomen',
               existing_type=sa.VARCHAR(length=1024),
               comment=None,
               existing_comment='',
               existing_nullable=True)
        batch_op.alter_column('doos_lumc',
               existing_type=sa.VARCHAR(length=1024),
               comment=None,
               existing_comment='',
               existing_nullable=True)
        batch_op.alter_column('doos_delft',
               existing_type=sa.VARCHAR(length=1024),
               comment=None,
               existing_comment='',
               existing_nullable=True)
        batch_op.alter_column('handgevormd',
               existing_type=sa.VARCHAR(length=1024),
               comment=None,
               existing_comment='',
               existing_nullable=True)
        batch_op.alter_column('gedraaid',
               existing_type=sa.VARCHAR(length=1024),
               comment=None,
               existing_comment='',
               existing_nullable=True)
        batch_op.alter_column('percentage',
               existing_type=sa.VARCHAR(length=1024),
               comment=None,
               existing_comment='',
               existing_nullable=True)
        batch_op.alter_column('max_diameter',
               existing_type=sa.VARCHAR(length=1024),
               comment=None,
               existing_comment='',
               existing_nullable=True)

    op.create_table('Def_Foto',
    sa.Column('herkomst', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('key', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('soort', sa.VARCHAR(length=80), autoincrement=False, nullable=True),
    sa.Column('brondata', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('_id', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('primary_key', sa.INTEGER(), server_default=sa.text('nextval(\'"Def_Foto_primary_key_seq"\'::regclass)'), autoincrement=True, nullable=False),
    sa.Column('directory', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('fileName', sa.VARCHAR(length=1024), autoincrement=False, nullable=True),
    sa.Column('fileSize', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('fileType', sa.VARCHAR(length=32), autoincrement=False, nullable=True),
    sa.Column('imageUUID', sa.VARCHAR(length=1024), autoincrement=False, nullable=True),
    sa.Column('imageMiddleUUID', sa.VARCHAR(length=1024), autoincrement=False, nullable=True),
    sa.Column('imageThumbUUID', sa.VARCHAR(length=1024), autoincrement=False, nullable=True),
    sa.Column('mime_type', sa.VARCHAR(length=20), autoincrement=False, nullable=True),
    sa.Column('fototype', sa.VARCHAR(length=1), autoincrement=False, nullable=True),
    sa.Column('projectcd', sa.VARCHAR(length=12), autoincrement=False, nullable=True),
    sa.Column('photo', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('fotosoort', postgresql.ENUM('Objectfoto', 'Opgravingsfoto', 'Velddocument', 'Overige_afbeelding', 'Afbeelding', 'Objecttekening', 'Overige_tekening', 'Unknown', name='discrfotosoortenum'), autoincrement=False, nullable=True),
    sa.Column('projectID', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('putnr', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('vondstnr', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('subnr', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('fotonr', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('materiaal', sa.VARCHAR(length=1024), autoincrement=False, nullable=True),
    sa.Column('omschrijving', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('datum', sa.DATE(), autoincrement=False, nullable=True),
    sa.Column('richting', sa.VARCHAR(length=20), autoincrement=False, nullable=True),
    sa.Column('artefactID', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('coupe', sa.BOOLEAN(), autoincrement=False, nullable=True),
    sa.Column('details', sa.VARCHAR(length=1024), autoincrement=False, nullable=True),
    sa.Column('microfilm', sa.VARCHAR(length=1024), autoincrement=False, nullable=True),
    sa.Column('periode', sa.VARCHAR(length=1024), autoincrement=False, nullable=True),
    sa.Column('profiel', sa.VARCHAR(length=1024), autoincrement=False, nullable=True),
    sa.Column('schaal', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('volgnr', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['artefactID'], ['Def_Artefact.primary_key'], name='Def_Foto_artefactID_fkey'),
    sa.ForeignKeyConstraint(['projectID'], ['Def_Project.primary_key'], name='Def_Foto_projectID_fkey'),
    sa.PrimaryKeyConstraint('primary_key', name='Def_Foto_pkey')
    )
    with op.batch_alter_table('Def_Foto', schema=None) as batch_op:
        batch_op.create_index('ix_Foto_fototype_fileName', ['fototype', 'fileName'], unique=False)
        batch_op.create_index('ix_Def_Foto_projectID', ['projectID'], unique=False)
        batch_op.create_index('ix_Def_Foto_fotosoort', ['fotosoort'], unique=False)
        batch_op.create_index('ix_Def_Foto_fileName', ['fileName'], unique=False)
        batch_op.create_index('ix_Def_Foto_artefactID', ['artefactID'], unique=False)

    # ### end Alembic commands ###
